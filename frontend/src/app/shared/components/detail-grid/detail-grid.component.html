<div class="detail-grid">
  <div class="detail-header">
    <h3>{{ title() }}</h3>
  </div>

  @if (loading()) {
    <div class="grid-loading">Loading detailsâ€¦</div>
  } @else if (columns().length === 0) {
    <div class="grid-empty-state">
      <span class="empty-icon">ðŸ“‹</span>
      <p>Select a row above to view details</p>
      <span class="dev-note">Backend Req #004 â€” Waiting for ReadDetailTabs + ReadDetailData procedures from Theo</span>
    </div>
  } @else {
    <div class="table-wrapper">
      <table class="grid-table">
        <thead>
          <tr>
            @for (col of columns(); track col) {
              <th>{{ col }}</th>
            }
          </tr>
        </thead>
        <tbody>
          @for (row of rows(); track $index) {
            <tr>
              @for (col of columns(); track col) {
                <td>{{ row[col] }}</td>
              }
            </tr>
          } @empty {
            <tr>
              <td [attr.colspan]="columns().length" class="empty-row">
                No detail data
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    @if (totalRows() > 0) {
      <div class="pagination">
        <span class="pagination-info">{{ showingRange() }}</span>
        <div class="pagination-controls">
          <button class="btn btn-sm" (click)="prevPage()" [disabled]="currentPage() <= 1">Prev</button>
          <span class="page-indicator">{{ currentPage() }} / {{ totalPages() }}</span>
          <button class="btn btn-sm" (click)="nextPage()" [disabled]="currentPage() >= totalPages()">Next</button>
        </div>
      </div>
    }
  }
</div>
